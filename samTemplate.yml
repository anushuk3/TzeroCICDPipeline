AWSTemplateFormatVersion: '2010-09-09'
Transform: 'AWS::Serverless-2016-10-31'
Description: 'Telkom Tzero CloudFormation For AWS Resources Cognito, DynamoDB, Lambda and API Gateway'

Parameters:

# ********** Tzero Cognito "UserPool/ClientID" Parameters- Start **************
  TzeroProducerUserPoolName:
    Description: Producer user pool name
    Type: String
    Default: 'TzeroProducerUserPool'
    
  TzeroConsumerUserPoolName:
    Description: Consumer user pool name
    Type: String
    Default: 'TzeroConsumerUserPool'
    
  TzeroProducerAppClientName:
    Description: Producer app client name
    Type: String
    Default: 'TzeroProducerAppClient'

  TzeroConsumerAppClientName:
    Description: Consumer App client name
    Type: String
    Default: 'TzeroConsumerAppClient'
# ********** Tzero Cognito "UserPool/ClientID" Parameters- End **************

# ********** Tzero DynamoDB Parameters -Start **************
  TzeroProducerTableName:
    Description:  This table is containing all the producer related informations 
    Type: String
    Default: 'TzeroProducerTable'
  
  TzeroProducerAdvertTableName:
    Description:  This table is containing all the producer Advertisement informations 
    Type: String
    Default: 'TzeroProducerAdvertTable'

  TzeroProducerSupportTicketTableName:
    Description: This table contain all the support tickets is been logged by the producer
    Type: String
    Default: 'TzeroProducerSupportTicketTable'

  TzeroProducerIndustryTagsTableName:
    Description: This table is used to store Produce Industry informations
    Type: String
    Default: 'TzeroProducerIndustryTagsTable'

  TzeroConsumerTableName:
    Description: This table is containing all the consumer related informations
    Type: String
    Default: 'TzeroConsumerTable'

  TzeroConsumerTransactionsTableName:
    Description: This table is used for the consumer Transactions details 
    Type: String
    Default: 'TzeroConsumerTransactionsTable'

  TzeroConsumerCredentialsTableName:
    Description: This table is used to store consumer login Credentials
    Type: String
    Default: 'TzeroConsumerCredentialsTable'

  TzeroConsumerExperiencePointsTableName:
    Description: This table is used to store consumer experience point details
    Type: String
    Default: 'TzeroConsumerExperiencePointsTable'

  TzeroSurveyTableName:
    Description: This table is used to store producer survey details
    Type: String
    Default: 'TzeroSurveyTable'

  TzeroBusinessRulesTableName:
    Description: 'This table is used to store all the business rules --
    table data is manually imported as per the business rules as configuration'
    Type: String
    Default: 'TzeroBusinessRulesTable'
  
  ReadCapacityUnits:
    Description: Provisioned read throughput
    Type: Number
    Default: '1'
    MinValue: '1'
    MaxValue: '10000'
    ConstraintDescription: must be between 5 and 10000

  WriteCapacityUnits:
    Description: Provisioned write throughput
    Type: Number
    Default: '1'
    MinValue: '1'
    MaxValue: '10000'
    ConstraintDescription: must be between 5 and 10000
  
# ********** Tzero DynamoDB Parameters- End **************


# ********** Tzero Lambda Functions Parameters- Start **************

# Lambda Functions Name
  TzeroRegistrationFunctionName:
    Description: TzeroRegistrationFunction for both Consumer & Producer 
    Type: String
    Default: 'TzeroRegistration'

  TzeroConsumerProfileFunctionName:
    Description: TzeroConsumerProfileFunction
    Type: String
    Default: 'TzeroConsumerProfile'
    
  TzeroConsumerChangePhoneNumberFunctionName:
    Description: TzeroConsumerChangePhoneNumberFunction
    Type: String
    Default: 'TzeroConsumerChangePhoneNumber'
    
  TzeroConsumerAccessFunctionName:
    Description: TzeroConsumerAccessFunction
    Type: String
    Default: 'TzeroConsumerAccess'
    
  TzeroConsumerGetDetailsFunctionName:
    Description: TzeroConsumerGetDetailsFunction
    Type: String
    Default: 'TzeroConsumerGetDetails'

  TzeroGetConsumerTransactionsFunctionName:
    Description: TzeroGetConsumerTransactionsFunction
    Type: String
    Default: 'TzeroGetConsumerTransactions'

  TzeroConsumerTransactionsFunctionName:
    Description: TzeroConsumerTransactionsFunction
    Type: String
    Default: 'TzeroConsumerTransactions'
    
  TzeroCosumerGetImageAdvertFunctionName:
    Description: TzeroCosumerGetImageAdvertFunction
    Type: String
    Default: 'TzeroCosumerGetImageAdvert'
    
  TzeroProducerGetAdvertDetailsFunctionName:
    Description: TzeroProducerGetAdvertDetailsFunction
    Type: String
    Default: 'TzeroProducerGetAdvertDetails'
    
  TzeroDisplayAdvertToConsumersFunctionName:
    Description: TzeroDisplayAdvertToConsumersFunction
    Type: String
    Default: 'TzeroDisplayAdvertToConsumers'
    
  TzeroProducerAccountAdministrationFunctionName:
    Description: TzeroProducerAccountAdministrationFunction 
    Type: String
    Default: 'TzeroProducerAccountAdministration'
    
  TzeroProducerMarketPlaceFunctionName:
    Description: TzeroProducerMarketPlaceFunction
    Type: String
    Default: 'TzeroProducerMarketPlace'
    
  TzeroConsumerMarketPlaceFunctionName:
    Description: TzeroConsumerMarketPlaceFunction
    Type: String
    Default: 'TzeroConsumerMarketPlace'
    
  TzeroConsumerReportContentFunctionName:
    Description: TzeroConsumerReportContentFunction
    Type: String
    Default: 'TzeroConsumerReportContent'
    
  TzeroProducerSurveyManagementFunctionName:
    Description: TzeroProducerSurveyManagementFunction
    Type: String
    Default: 'TzeroProducerSurveyManagement'
    
  TzeroConsumerAdvertViewsLikesUpdateFunctionName:
    Description: TzeroConsumerAdvertViewsLikesUpdateFunction
    Type: String
    Default: 'TzeroConsumerAdvertViewsLikesUpdate'
    
  TzeroConsumerProfileUpdateFunctionName:
    Description: TzeroConsumerProfileUpdateFunction
    Type: String
    Default: 'TzeroConsumerProfileUpdate'
    
# Lambda Function Target S3 key(CodePath) name
  TzeroRegistrationS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: './LambdaCode'

  TzeroConsumerProfileS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'

  TzeroConsumerChangePhoneNumberS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'

  TzeroConsumerAccessS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'

  TzeroConsumerGetDetailsS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'

  TzeroGetConsumerTransactionsS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroConsumerTransactionsS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroCosumerGetImageAdvertS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroProducerGetAdvertDetailsS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroDisplayAdvertToConsumersS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'

  TzeroProducerAccountAdministrationS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'

  TzeroProducerMarketPlaceS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroConsumerMarketPlaceS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroConsumerReportContentS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroProducerSurveyManagementS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroConsumerAdvertViewsLikesUpdateS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
  TzeroConsumerProfileUpdateS3Key:
    Description: s3 key name for the lambda package in s3
    Type: String
    Default: 'backend/Producer/Registration/Tzero-Producer-Registration.zip'
    
#Lambda Function Environment Variables
  TempPass:
    Type: "String"
    Default: "Test@09876"
  ConfigBucket:
    Type: "String"
    Default: "tzero-telkom-backend-dev"
  Configpath:
    Type: "String"
    Default: "Config/TzeroConfig.json"
    
# ********** Tzero Lambda Functions Parameters- End **************

Resources:

# ********** Tzero Cognito "UserPool/ClientID" Resource- Start**************
# TRIGGER NEED TO BE ADDED IN THIS CF 
# Producer pool & AppClient creation
  TzeroProducerUserPool:
    Type: AWS::Cognito::UserPool
    Properties:
      MfaConfiguration: "OFF"
      UserPoolName: !Ref "TzeroProducerUserPoolName"
      UsernameAttributes:
       - email
      AutoVerifiedAttributes:
       - email
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_LINK
      EmailVerificationSubject: "Tzero Registration Link"
      EmailVerificationMessage: 'Dear Producer,Welcome to Telkom T-Zero CommunityThank you for Registering as a producer, Complete your registration by clicking the link below to verify your email address.Verify Email{####}  Click here to Login : http://cloudtechnologies.cloud/login Thanks,Team Tzero '
      Schema:
        - Name: name
          AttributeDataType: String
          Mutable: true
          Required: true
        - Name: email
          AttributeDataType: String
          Mutable: false
          Required: true
        - Name: profile
          AttributeDataType: String
          Mutable: false
          Required: true
      Policies:
       PasswordPolicy:
        MinimumLength: 8
        RequireLowercase: True
        RequireNumbers: True
        RequireSymbols: False
        RequireUppercase: True

  TzeroProducerAppClient:
    Type: "AWS::Cognito::UserPoolClient"
    Properties:
     ClientName: !Ref "TzeroProducerAppClientName"
     GenerateSecret: False
     UserPoolId:
       Ref: TzeroProducerUserPool
       
# Consumer pool & Client creation
  TzeroConsumerUserPool:
    Type: AWS::Cognito::UserPool
    Properties:
      MfaConfiguration: "OFF"
      UserPoolName: !Ref "TzeroConsumerUserPoolName"
      UsernameAttributes:
       - phone_number
      Schema:
        - Name: name
          AttributeDataType: String
          Mutable: true
          Required: true
        - Name: email
          AttributeDataType: String
          Mutable: false
          Required: true
        - Name: profile
          AttributeDataType: String
          Mutable: false
          Required: true
      Policies:
       PasswordPolicy:
        MinimumLength: 8
        RequireLowercase: True
        RequireNumbers: True
        RequireSymbols: False
        RequireUppercase: True

  TzeroConsumerAppClient:
    Type: "AWS::Cognito::UserPoolClient"
    Properties:
     ClientName: !Ref "TzeroConsumerAppClientName"
     GenerateSecret: False
     UserPoolId:
       Ref: TzeroConsumerUserPool

# ********** Tzero Cognito "UserPool/ClientID" Resource- End**************


# ********** DynamoDB Resource creation- Start**************
  TzeroProducerTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: producerID
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: producerID
        AttributeType: S
      TableName: !Ref "TzeroProducerTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroProducerAdvertTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: advertisement_id
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: advertisement_id
        AttributeType: N
      TableName: !Ref "TzeroProducerAdvertTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroProducerSupportTicketTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: supportTicketID
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: supportTicketID
        AttributeType: N
      TableName: !Ref "TzeroProducerSupportTicketTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'
  
  TzeroProducerIndustryTagsTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: Industry
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: Industry
        AttributeType: S
      TableName: !Ref "TzeroProducerIndustryTagsTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroConsumerTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: Cognito_Id
        KeyType: HASH
      - AttributeName: Phone_Number
        KeyType: RANGE
      AttributeDefinitions:
      - AttributeName: Cognito_Id
        AttributeType: S
      - AttributeName: Phone_Number
        AttributeType: S
      TableName: !Ref "TzeroConsumerTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroConsumerTransactionsTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: TransactionId
        KeyType: HASH
      - AttributeName: Phone_Number
        KeyType: RANGE
      AttributeDefinitions:
      - AttributeName: TransactionId
        AttributeType: S
      - AttributeName: Phone_Number
        AttributeType: S
      TableName: !Ref "TzeroConsumerTransactionsTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroConsumerCredentialsTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: User_Name
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: User_Name
        AttributeType: S
      TableName: !Ref "TzeroConsumerCredentialsTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroConsumerExperiencePointsTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: transactionId
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: transactionId
        AttributeType: N
      TableName: !Ref "TzeroConsumerExperiencePointsTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroSurveyTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: survey_id
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: survey_id
        AttributeType: N
      TableName: !Ref "TzeroSurveyTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

  TzeroBusinessRulesTable:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
      - AttributeName: ruleName
        KeyType: HASH
      AttributeDefinitions:
      - AttributeName: ruleName
        AttributeType: S
      TableName: !Ref "TzeroBusinessRulesTableName"
      ProvisionedThroughput:
        ReadCapacityUnits: !Ref 'ReadCapacityUnits'
        WriteCapacityUnits: !Ref 'WriteCapacityUnits'

# ********** DynamoDB Resource creation- End**************

# ********** Tzero Lambda Function Resource- Start**************
  TzeroRegistration:
    Type: "AWS::Serverless::Function"
    Properties:
      Description: "TzeroRegistration"
      FunctionName: !Ref "TzeroRegistrationFunctionName"
      Handler: "index.handler"
      Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      CodeUri: ./LambdaCode
      Runtime: "python3.7"
      Environment:
        Variables:
          ConsumerClientId: !Ref "TzeroConsumerAppClient"
          ProducerClientId: !Ref "TzeroProducerAppClient"
          ProducerPoolID: !Ref "TzeroProducerUserPool"
          TempPass: "Test@09876"
          ConfigBucket: "tzero-telkom-backend-dev"
          Configpath: Config/TzeroConfig.json
      MemorySize: 128
      Timeout: 25

  TzeroConsumerProfile:
    Type: "AWS::Serverless::Function"
    Properties:
      Description: "TzeroConsumerProfile"
      FunctionName: !Ref "TzeroConsumerProfileFunctionName"
      Handler: "index.handler"
      Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      CodeUri: ./LambdaCode
      Runtime: "python3.7"
      Environment:
        Variables:
          ConsumerTableName: !Ref "TzeroConsumerTable"
      MemorySize: 128
      Timeout: 25

  TzeroConsumerChangePhoneNumber:
    Type: "AWS::Serverless::Function"
    Properties:
      Description: "TzeroConsumerChangePhoneNumber"
      FunctionName: !Ref "TzeroConsumerChangePhoneNumberFunctionName"
      Handler: "index.handler"
      Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      CodeUri: ./LambdaCode
      Runtime: "python3.7"
      Environment:
        Variables:
          ClientId: !Ref "TzeroConsumerAppClient"
          UserPoolId: !Ref "TzeroConsumerUserPool"
      MemorySize: 128
      Timeout: 25             


  TzeroConsumerAccess:
    Type: "AWS::Serverless::Function"
    Properties:
      Description: "TzeroConsumerAccess"
      FunctionName: !Ref "TzeroConsumerAccessFunctionName"
      Handler: "index.handler"
      Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      CodeUri: ./LambdaCode
      Runtime: "python3.7"
      Environment:
        Variables:
          ConsumerClientID: !Ref "TzeroConsumerAppClient"
          ConsumerPasswordTable: !Ref "TzeroConsumerCredentialsTable"
          ConsumerTable: !Ref "TzeroConsumerTable"
          ConsumerUserPool: !Ref "TzeroConsumerUserPool"
          TempPass: "Test@09876"
#          UpdateRewardsLambda: Lambda Name "ConsumerRewardManagement-Dev" needs to be created
      MemorySize: 128
      Timeout: 25
      
  # TzeroConsumerGetDetails:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroConsumerGetDetails"
      # FunctionName: !Ref "TzeroConsumerGetDetailsFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25

  # TzeroGetConsumerTransactions:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroGetConsumerTransactions"
      # FunctionName: !Ref "TzeroGetConsumerTransactionsFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroConsumerTransactions:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroConsumerTransactions"
      # FunctionName: !Ref "TzeroConsumerTransactionsFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"


      # MemorySize: 128
      # Timeout: 25
      
  # TzeroCosumerGetImageAdvert:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroCosumerGetImageAdvert"
      # FunctionName: !Ref "TzeroCosumerGetImageAdvertFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25

  # TzeroProducerGetAdvertDetails:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroProducerGetAdvertDetails"
      # FunctionName: !Ref "TzeroProducerGetAdvertDetailsFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroDisplayAdvertToConsumers:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroDisplayAdvertToConsumers"
      # FunctionName: !Ref "TzeroDisplayAdvertToConsumersFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroProducerAccountAdministration:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroProducerAccountAdministration"
      # FunctionName: !Ref "TzeroProducerAccountAdministrationFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroProducerMarketPlace:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroProducerMarketPlace"
      # FunctionName: !Ref "TzeroProducerMarketPlaceFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroConsumerMarketPlace:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroConsumerMarketPlace"
      # FunctionName: !Ref "TzeroConsumerMarketPlaceFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25

  # TzeroConsumerReportContent:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroConsumerReportContent"
      # FunctionName: !Ref "TzeroConsumerReportContentFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25

  # TzeroProducerSurveyManagement:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroProducerSurveyManagement"
      # FunctionName: !Ref "TzeroProducerSurveyManagementFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroConsumerAdvertViewsLikesUpdate:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroConsumerAdvertViewsLikesUpdate"
      # FunctionName: !Ref "TzeroConsumerAdvertViewsLikesUpdateFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25
      
  # TzeroConsumerProfileUpdate:
    # Type: "AWS::Serverless::Function"
    # Properties:
      # Description: "TzeroConsumerProfileUpdate"
      # FunctionName: !Ref "TzeroConsumerProfileUpdateFunctionName"
      # Handler: "index.handler"
      # Role: 'arn:aws:iam::299869144443:role/LambdaRole_anushukla'
      # CodeUri: ./LambdaCode
      # Runtime: "python3.7"

      # MemorySize: 128
      # Timeout: 25

# ********** Tzero Lambda Function Resource- End**************

# ********** Tzero Lambda Function Output - Start**************
Outputs:
  TzeroProducerUserPoolId:
    Value: !Ref TzeroProducerUserPool
#    Export:
#      Name: "TzeroProducerUserPoolId"
  TzeroConsumerUserPoolId:
    Value: !Ref TzeroConsumerUserPool
#    Export:
#      Name: "TzeroConsumerUserPoolId"
  TzeroProducerAppClientId:
    Value: !Ref TzeroProducerAppClient
#    Export:
#      Name: "TzeroProducerAppClientId"
  TzeroConsumerAppClientId:
    Value: !Ref TzeroConsumerAppClient
#    Export:
#      Name: "TzeroConsumerAppClientId"

 # ********** Tzero Lambda Function Output- End**************
